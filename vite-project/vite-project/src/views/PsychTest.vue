<script>
const musicRecommendations = {
  low: [
    { title: 'æ¸…æ™¨ - ç­å¾—ç‘', cover: 'https://img.kuwo.cn/star/albumcover/500/17/15/706971015.jpg', reason: 'è½»æŸ”çš„è‡ªç„¶å£°éŸ³ä¸é’¢ç´æ—‹å¾‹ï¼Œèƒ½å¸®åŠ©å¹³é™å¿ƒæƒ…ï¼Œé€‚åˆæƒ…ç»ªæ³¢åŠ¨ä¸å¤§æ—¶è†å¬ã€‚' },
    { title: 'River Flows In You - Yiruma', cover: 'https://img.kuwo.cn/star/albumcover/500/64/72/2440726464.jpg', reason: 'ä¼˜ç¾çš„é’¢ç´æ›²ï¼Œæ¸©æŸ”è€Œæµç•…ï¼Œèƒ½å¸¦æ¥å†…å¿ƒçš„å¹³å’Œä¸èˆ’é€‚æ„Ÿã€‚' }
  ],
  medium: [
    { title: 'Weightless - Marconi Union', cover: 'https://img.kuwo.cn/star/albumcover/500/86/40/4085403686.jpg', reason: 'ç§‘å­¦è¯æ˜èƒ½é™ä½ç„¦è™‘çš„éŸ³ä¹ï¼ŒèŠ‚å¥ç¼“æ…¢æœ‰åŠ©äºæ”¾æ¾ç¥ç»ç³»ç»Ÿã€‚' },
    { title: 'æœˆå…‰ - å¾·å½ªè¥¿', cover: 'https://img.kuwo.cn/star/albumcover/500/19/82/3640822819.jpg', reason: 'å°è±¡æ´¾é’¢ç´ä½œå“ï¼Œæ¢¦å¹»èˆ¬çš„æ—‹å¾‹èƒ½å¼•å¯¼æ€ç»ªæ”¾æ¾ï¼Œç¼“è§£ä¸­ç­‰å‹åŠ›ã€‚' }
  ],
  high: [
    { title: 'GymnopÃ©die No.1 - Erik Satie', cover: 'https://img.kuwo.cn/star/albumcover/500/66/42/4258422466.jpg', reason: 'æç®€ä¸»ä¹‰çš„é’¢ç´æ›²ï¼Œç¼“æ…¢çš„èŠ‚å¥å’Œç®€å•çš„æ—‹å¾‹èƒ½æœ‰æ•ˆå®‰æŠšé«˜åº¦ç„¦è™‘çš„æƒ…ç»ªã€‚' },
    { title: 'Spiegel im Spiegel - Arvo PÃ¤rt', cover: 'https://img.kuwo.cn/star/albumcover/500/17/15/706971015.jpg', reason: 'å†¥æƒ³å¼çš„æç®€éŸ³ä¹ï¼Œé‡å¤è€Œç¼“æ…¢çš„æ—‹å¾‹èƒ½å¸®åŠ©è¿‡åº¦æ´»è·ƒçš„æ€ç»ªå¹³é™ä¸‹æ¥ã€‚' }
  ]
};
const suggestionsData = {
  emotion: [
    { level: 'low', text: 'æ‚¨çš„æƒ…ç»ªçŠ¶æ€è¾ƒä¸ºç¨³å®šï¼Œç»§ç»­ä¿æŒè‰¯å¥½çš„æƒ…ç»ªè°ƒèŠ‚ä¹ æƒ¯ã€‚å»ºè®®æ¯å¤©èŠ±å‡ åˆ†é’Ÿè®°å½•æ„Ÿæ©æ—¥è®°ï¼Œå¼ºåŒ–ç§¯ææƒ…ç»ªã€‚' },
    { level: 'medium', text: 'æ‚¨å¶å°”ä¼šç»å†æƒ…ç»ªæ³¢åŠ¨ï¼Œè¿™å¯èƒ½ä¸å‹åŠ›æˆ–ç”Ÿæ´»äº‹ä»¶æœ‰å…³ã€‚å»ºè®®å°è¯•æ­£å¿µå†¥æƒ³æˆ–æ·±å‘¼å¸ç»ƒä¹ ï¼Œæ¯å¤©10-15åˆ†é’Ÿã€‚' },
    { level: 'high', text: 'æ‚¨çš„æƒ…ç»ªå›°æ‰°è¾ƒä¸ºæ˜æ˜¾ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆçš„å¸®åŠ©ã€‚åŒæ—¶å¯ä»¥å°è¯•è§„å¾‹è¿åŠ¨ï¼Œå¦‚æ¯å¤©30åˆ†é’Ÿæ•£æ­¥æˆ–ç‘œä¼½ã€‚' }
  ],
  stress: [
    { level: 'low', text: 'æ‚¨çš„å‹åŠ›æ°´å¹³åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œä¿æŒè‰¯å¥½çš„å·¥ä½œç”Ÿæ´»å¹³è¡¡å³å¯ã€‚' },
    { level: 'medium', text: 'æ‚¨æ„Ÿå—åˆ°ä¸€å®šçš„å‹åŠ›ï¼Œå»ºè®®å­¦ä¹ æ—¶é—´ç®¡ç†æŠ€å·§ï¼Œç¡®ä¿æ¯å¤©æœ‰è¶³å¤Ÿçš„ä¼‘æ¯å’Œæ”¾æ¾æ—¶é—´ã€‚' },
    { level: 'high', text: 'æ‚¨çš„å‹åŠ›æ°´å¹³è¾ƒé«˜ï¼Œå¯èƒ½éœ€è¦é‡æ–°è¯„ä¼°å½“å‰çš„å·¥ä½œç”Ÿæ´»å®‰æ’ã€‚è€ƒè™‘ä¸ä¸Šå¸æˆ–å®¶äººæ²Ÿé€šè°ƒæ•´è´£ä»»åˆ†é…ï¼Œå¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚' }
  ],
  relationship: [
    { level: 'low', text: 'æ‚¨çš„äººé™…å…³ç³»çŠ¶æ€è‰¯å¥½ï¼Œç»§ç»­ä¿æŒç§¯æçš„ç¤¾äº¤äº’åŠ¨ã€‚' },
    { level: 'medium', text: 'æ‚¨åœ¨ç¤¾äº¤ä¸­å¶å°”æ„Ÿåˆ°ç–²æƒ«ï¼Œå»ºè®®é€‰æ‹©è´¨é‡è€Œéæ•°é‡çš„ç¤¾äº¤æ´»åŠ¨ï¼Œç•™å‡ºè¶³å¤Ÿçš„ç‹¬å¤„æ—¶é—´æ¢å¤èƒ½é‡ã€‚' },
    { level: 'high', text: 'æ‚¨å¯èƒ½æ­£åœ¨ç»å†ç¤¾äº¤å›°éš¾æˆ–å­¤ç‹¬æ„Ÿï¼Œå»ºè®®ä»å°èŒƒå›´çš„ã€ä½å‹åŠ›çš„ç¤¾äº¤æ´»åŠ¨å¼€å§‹é‡å»ºè¿æ¥ï¼Œæˆ–è€ƒè™‘åŠ å…¥æ”¯æŒå°ç»„ã€‚' }
  ],
  self: [
    { level: 'low', text: 'æ‚¨çš„è‡ªæˆ‘è®¤çŸ¥ç§¯æå¥åº·ï¼Œç»§ç»­ä¿æŒè‡ªæˆ‘å…³æ€€çš„ä¹ æƒ¯ã€‚' },
    { level: 'medium', text: 'æ‚¨å¯¹è‡ªå·±çš„è¯„ä»·æœ‰æ—¶åä½ï¼Œå»ºè®®ç»ƒä¹ è‡ªæˆ‘åŒæƒ…ï¼Œåƒå¯¹å¾…å¥½æœ‹å‹ä¸€æ ·å¯¹å¾…è‡ªå·±ã€‚' },
    { level: 'high', text: 'æ‚¨å¯¹è‡ªå·±çš„è¯„ä»·è¾ƒä¸ºæ¶ˆæï¼Œè¿™å¯èƒ½å½±å“æ•´ä½“å¿ƒç†å¥åº·ã€‚å»ºè®®é€šè¿‡å¿ƒç†å’¨è¯¢æ¢ç´¢è‡ªæˆ‘ä»·å€¼æ„Ÿé—®é¢˜ã€‚' }
  ]
};
export default {
  name: 'PsychTest',
  data() {
    return {
      step: 'intro',
      currentIndex: 0,
      answers: [],
      questions: [
        { id: 1, dimension: 'æƒ…ç»ª', question: 'æˆ‘æ„Ÿåˆ°æƒ…ç»ªä½è½æˆ–æ²®ä¸§ï¼š', options: [ { text: 'å‡ ä¹æ²¡æœ‰', score: 0 }, { text: 'å¶å°”', score: 1 }, { text: 'ç»å¸¸', score: 2 }, { text: 'å‡ ä¹æ¯å¤©', score: 3 } ] },
        { id: 2, dimension: 'æƒ…ç»ª', question: 'æˆ‘å¯¹æœªæ¥æ„Ÿåˆ°æ— æœ›æˆ–æ‚²è§‚ï¼š', options: [ { text: 'å‡ ä¹æ²¡æœ‰', score: 0 }, { text: 'å¶å°”', score: 1 }, { text: 'ç»å¸¸', score: 2 }, { text: 'å‡ ä¹æ¯å¤©', score: 3 } ] },
        { id: 3, dimension: 'æƒ…ç»ª', question: 'æˆ‘æ„Ÿåˆ°ç„¦è™‘æˆ–ç´§å¼ ï¼š', options: [ { text: 'å‡ ä¹æ²¡æœ‰', score: 0 }, { text: 'å¶å°”', score: 1 }, { text: 'ç»å¸¸', score: 2 }, { text: 'å‡ ä¹æ¯å¤©', score: 3 } ] },
        { id: 4, dimension: 'å‹åŠ›', question: 'æˆ‘æ„Ÿåˆ°éš¾ä»¥åº”å¯¹æ—¥å¸¸ä»»åŠ¡æˆ–è´£ä»»ï¼š', options: [ { text: 'å®Œå…¨èƒ½åº”å¯¹', score: 0 }, { text: 'æœ‰æ—¶åƒåŠ›', score: 1 }, { text: 'ç»å¸¸æ„Ÿåˆ°å›°éš¾', score: 2 }, { text: 'å®Œå…¨æ— æ³•åº”å¯¹', score: 3 } ] },
        { id: 5, dimension: 'å‹åŠ›', question: 'æˆ‘çš„èº«ä½“å‡ºç°ä»¥ä¸‹ç—‡çŠ¶ï¼š', options: [ { text: 'å¤±çœ æˆ–ç¡çœ è¿‡å¤š', score: 1 }, { text: 'å¤´ç—›/èƒƒç—›ç­‰èº«ä½“ä¸é€‚', score: 1 }, { text: 'é£Ÿæ¬²æ˜¾è‘—å˜åŒ–', score: 1 }, { text: 'æ— ä»¥ä¸Šç—‡çŠ¶', score: 0 } ], multiple: true },
        { id: 6, dimension: 'äººé™…å…³ç³»', question: 'æˆ‘å¯¹ä¸ä»–äººäº’åŠ¨æ„Ÿåˆ°ç–²æƒ«æˆ–å›é¿ï¼š', options: [ { text: 'å‡ ä¹æ²¡æœ‰', score: 0 }, { text: 'å¶å°”', score: 1 }, { text: 'ç»å¸¸', score: 2 }, { text: 'å‡ ä¹æ€»æ˜¯', score: 3 } ] },
        { id: 7, dimension: 'äººé™…å…³ç³»', question: 'æˆ‘æ„Ÿåˆ°å­¤ç‹¬æˆ–ä¸è¢«ç†è§£ï¼š', options: [ { text: 'å‡ ä¹æ²¡æœ‰', score: 0 }, { text: 'å¶å°”', score: 1 }, { text: 'ç»å¸¸', score: 2 }, { text: 'å‡ ä¹æ€»æ˜¯', score: 3 } ] },
        { id: 8, dimension: 'è‡ªæˆ‘è®¤çŸ¥', question: 'æˆ‘å¯¹è‡ªå·±çš„è¯„ä»·æ˜¯ï¼š', options: [ { text: 'æ€»ä½“æ»¡æ„', score: 0 }, { text: 'æœ‰æ—¶ä¸æ»¡æ„', score: 1 }, { text: 'ç»å¸¸æ„Ÿåˆ°è‡ªå·±ä¸å¤Ÿå¥½', score: 2 }, { text: 'å¼ºçƒˆåŒæ¶è‡ªå·±', score: 3 } ] },
        { id: 9, dimension: 'è‡ªæˆ‘è®¤çŸ¥', question: 'æˆ‘èƒ½æ„Ÿå—åˆ°ç”Ÿæ´»ä¸­çš„å¿«ä¹æˆ–æ„ä¹‰ï¼š', options: [ { text: 'ç»å¸¸èƒ½', score: 0 }, { text: 'å¶å°”èƒ½', score: 1 }, { text: 'å¾ˆå°‘èƒ½', score: 2 }, { text: 'å®Œå…¨ä¸èƒ½', score: 3 } ] }
      ]
    }
  },
  computed: {
    currentQuestion() {
      return this.questions[this.currentIndex];
    },
    progress() {
      return ((this.currentIndex) / this.questions.length) * 100;
    },
    canNext() {
      const ans = this.answers[this.currentIndex];
      if (this.currentQuestion && this.currentQuestion.multiple) {
        return Array.isArray(ans) && ans.length > 0;
      }
      return ans !== undefined;
    },
    resultSummaryHtml() {
      const total = this.getTotalScore();
      if (total <= 5) {
        return `
          <p>æ‚¨çš„æ€»ä½“å¿ƒç†çŠ¶æ€è¾ƒä¸ºç¨³å®šï¼Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›è‰¯å¥½ã€‚</p>
          <div class='score-meter'><div class='score-fill' style='width: ${(total/5)*100}%'></div></div>
          <p>ç»§ç»­ä¿æŒå¥åº·çš„ç”Ÿæ´»ä¹ æƒ¯å’Œç¤¾äº¤è”ç³»ï¼Œå®šæœŸè¿›è¡Œè‡ªæˆ‘å…³æ€€æ´»åŠ¨ã€‚</p>
        `;
      } else if (total <= 12) {
        return `
          <p>æ‚¨æ­£åœ¨ç»å†ä¸€äº›æƒ…ç»ªå›°æ‰°å’Œå‹åŠ›ï¼Œä½†ä»åœ¨å¯è°ƒèŠ‚èŒƒå›´å†…ã€‚</p>
          <div class='score-meter'><div class='score-fill' style='width: ${((total-5)/7)*100}%'></div></div>
          <p>å»ºè®®å…³æ³¨å‹åŠ›æºå¹¶é‡‡å–ç§¯æçš„åº”å¯¹ç­–ç•¥ï¼Œå¿…è¦æ—¶å¯»æ±‚ç¤¾ä¼šæ”¯æŒã€‚</p>
        `;
      } else if (total <= 20) {
        return `
          <p>æ‚¨çš„å¿ƒç†å‹åŠ›è¾ƒå¤§ï¼Œæƒ…ç»ªå›°æ‰°è¾ƒä¸ºæ˜æ˜¾ã€‚</p>
          <div class='score-meter'><div class='score-fill' style='width: ${((total-12)/8)*100}%'></div></div>
          <p>å»ºè®®å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢æˆ–ä¸ä¿¡ä»»çš„äººè®¨è®ºæ‚¨çš„æ„Ÿå—ï¼ŒåŠæ—©å¹²é¢„æœ‰åŠ©äºæ¢å¤ã€‚</p>
        `;
      } else {
        return `
          <p>æ‚¨å½“å‰çš„å¿ƒç†å›°æ‰°ç¨‹åº¦è¾ƒé«˜ï¼Œå¯èƒ½éœ€è¦ä¸“ä¸šæ”¯æŒã€‚</p>
          <div class='score-meter'><div class='score-fill' style='width: 100%'></div></div>
          <p>å¼ºçƒˆå»ºè®®è”ç³»å¿ƒç†å’¨è¯¢å¸ˆæˆ–ç²¾ç¥ç§‘åŒ»ç”Ÿè¿›è¡Œè¯„ä¼°ï¼Œæ‚¨ä¸å¿…ç‹¬è‡ªé¢å¯¹è¿™äº›å›°éš¾ã€‚</p>
        `;
      }
    },
    dimensionAnalysisHtml() {
      // ç»Ÿè®¡å„ç»´åº¦åˆ†æ•°
      const dim = { 'æƒ…ç»ª': 0, 'å‹åŠ›': 0, 'äººé™…å…³ç³»': 0, 'è‡ªæˆ‘è®¤çŸ¥': 0 };
      this.questions.forEach((q, i) => {
        let score = 0;
        if (q.multiple) {
          const ans = this.answers[i] || [];
          score = ans.reduce((sum, idx) => sum + (q.options[idx]?.score || 0), 0);
        } else {
          score = q.options[this.answers[i]]?.score || 0;
        }
        dim[q.dimension] += score;
      });
      let html = '';
      for (const dimension in dim) {
        const score = dim[dimension];
        let level = '';
        let description = '';
        if (score <= 1) {
          level = 'ä½';
          description = 'è¯¥ç»´åº¦çŠ¶æ€è‰¯å¥½';
        } else if (score <= 2) {
          level = 'ä¸­';
          description = 'è¯¥ç»´åº¦å­˜åœ¨ä¸€å®šå›°æ‰°';
        } else {
          level = 'é«˜';
          description = 'è¯¥ç»´åº¦å›°æ‰°è¾ƒæ˜æ˜¾';
        }
        html += `
          <div style='margin-bottom: 15px;'>
            <h3 style='color: var(--accent-color); font-weight: 400; margin-bottom: 5px;'>${dimension}</h3>
            <div class='score-meter'><div class='score-fill' style='width: ${(score/3)*100}%'></div></div>
            <p>${level}æ°´å¹³ - ${description}</p>
          </div>
        `;
      }
      return html;
    },
    suggestionsHtml() {
      // ç»´åº¦å»ºè®®
      const dim = { 'æƒ…ç»ª': 0, 'å‹åŠ›': 0, 'äººé™…å…³ç³»': 0, 'è‡ªæˆ‘è®¤çŸ¥': 0 };
      this.questions.forEach((q, i) => {
        let score = 0;
        if (q.multiple) {
          const ans = this.answers[i] || [];
          score = ans.reduce((sum, idx) => sum + (q.options[idx]?.score || 0), 0);
        } else {
          score = q.options[this.answers[i]]?.score || 0;
        }
        dim[q.dimension] += score;
      });
      let html = '<div class="options">';
      for (const dimension in dim) {
        const score = dim[dimension];
        let levelKey = '';
        if (score <= 1) levelKey = 'low';
        else if (score <= 2) levelKey = 'medium';
        else levelKey = 'high';
        let dimensionKey = '';
        if (dimension === 'æƒ…ç»ª') dimensionKey = 'emotion';
        else if (dimension === 'å‹åŠ›') dimensionKey = 'stress';
        else if (dimension === 'äººé™…å…³ç³»') dimensionKey = 'relationship';
        else dimensionKey = 'self';
        const suggestion = suggestionsData[dimensionKey].find(s => s.level === levelKey);
        html += `
          <div class='question' style='margin-bottom: 15px;'>
            <h3 style='color: var(--accent-color); font-weight: 400;'>${dimension}å»ºè®®</h3>
            <p>${suggestion.text}</p>
          </div>
        `;
      }
      html += '</div>';
      return html;
    },
    musicList() {
      const total = this.getTotalScore();
      if (total <= 5) return musicRecommendations.low;
      else if (total <= 12) return musicRecommendations.medium;
      else return musicRecommendations.high;
    }
  },
  methods: {
    startTest() {
      this.step = 'test';
      this.currentIndex = 0;
      this.answers = [];
      if (this.questions[0].multiple) this.$set(this.answers, 0, []);
    },
    nextQuestion() {
      if (this.currentIndex < this.questions.length - 1) {
        this.currentIndex++;
        if (this.currentQuestion.multiple && !Array.isArray(this.answers[this.currentIndex])) {
          this.$set(this.answers, this.currentIndex, []);
        }
      } else {
        this.step = 'result';
      }
    },
    restart() {
      this.step = 'intro';
      this.currentIndex = 0;
      this.answers = [];
    },
    getTotalScore() {
      let total = 0;
      this.questions.forEach((q, i) => {
        if (q.multiple) {
          const ans = this.answers[i] || [];
          total += ans.reduce((sum, idx) => sum + (q.options[idx]?.score || 0), 0);
        } else {
          total += q.options[this.answers[i]]?.score || 0;
        }
      });
      return total;
    }
  }
}
</script>

<template>
  <div class="container">
    <header>
      <div class="flower-decoration">ğŸŒ·</div>
      <h1>å¿ƒçµèŠ±å›­</h1>
      <p class="subtitle">ä¸€ä»½æ¸©æš–çš„å¿ƒç†è‡ªè¯„æµ‹è¯•</p>
    </header>
    <div class="intro-container" :class="{ active: step === 'intro' }">
      <div class="question">
        <h3>æ¬¢è¿æ¥åˆ°å¿ƒçµèŠ±å›­</h3>
        <p>è¿™æ˜¯ä¸€ä»½ä¸“ä¸šçš„å¿ƒç†è‡ªè¯„æµ‹è¯•ï¼ŒåŒ…å«æƒ…ç»ªã€å‹åŠ›ã€äººé™…å…³ç³»å’Œè‡ªæˆ‘è®¤çŸ¥å››ä¸ªç»´åº¦ã€‚</p>
        <p>æµ‹è¯•å®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š</p>
        <ul style="margin: 15px 0 15px 20px;">
          <li>å¤šç»´åº¦çš„å¿ƒç†çŠ¶æ€è¯„ä¼°</li>
          <li>ä¸ªæ€§åŒ–çš„æ”¹å–„å»ºè®®</li>
          <li>ç²¾é€‰çš„æ²»æ„ˆç³»éŸ³ä¹æ¨è</li>
        </ul>
        <p>è¯·æ ¹æ®æœ€è¿‘ä¸¤å‘¨çš„çœŸå®æ„Ÿå—å›ç­”ï¼Œç­”æ¡ˆæ²¡æœ‰å¯¹é”™ä¹‹åˆ†ã€‚</p>
      </div>
      <button class="btn" @click="startTest">å¼€å§‹æµ‹è¯•</button>
    </div>
    <div class="test-container" :class="{ active: step === 'test' }">
      <div class="progress-container">
        <div class="progress-bar" :style="{ width: progress + '%' }"></div>
      </div>
      <div id="questionContainer">
        <div v-if="currentQuestion" class="question">
          <h3>{{ currentQuestion.dimension }}ç»´åº¦</h3>
          <p>{{ currentQuestion.question }}</p>
          <div class="options">
            <template v-if="!currentQuestion.multiple">
              <label v-for="(opt, idx) in currentQuestion.options" :key="idx" class="option">
                <input type="radio" :name="'q' + currentQuestion.id" :value="idx" v-model="answers[currentIndex]">
                {{ opt.text }}
              </label>
            </template>
            <template v-else>
              <label v-for="(opt, idx) in currentQuestion.options" :key="idx" class="option">
                <input type="checkbox" :value="idx" v-model="answers[currentIndex]">
                {{ opt.text }}
              </label>
            </template>
          </div>
        </div>
      </div>
      <button class="btn" id="nextBtn" :disabled="!canNext" @click="nextQuestion">{{ currentIndex === questions.length - 1 ? 'æäº¤' : 'ä¸‹ä¸€é¢˜' }}</button>
    </div>
    <div class="result-container" :class="{ active: step === 'result' }">
      <div class="flower-decoration">ğŸŒ¼</div>
      <div class="result-section">
        <h2>æ‚¨çš„å¿ƒç†çŠ¶æ€è¯„ä¼°</h2>
        <div id="resultSummary" v-html="resultSummaryHtml"></div>
      </div>
      <div class="result-section">
        <h2>å„ç»´åº¦è¯¦ç»†åˆ†æ</h2>
        <div id="dimensionAnalysis" v-html="dimensionAnalysisHtml"></div>
      </div>
      <div class="result-section">
        <h2>ä¸ªæ€§åŒ–å»ºè®®</h2>
        <div id="suggestions" v-html="suggestionsHtml"></div>
      </div>
      <div class="result-section">
        <h2>ä¸ºæ‚¨æ¨èçš„éŸ³ä¹</h2>
        <p>æ ¹æ®æ‚¨çš„æµ‹è¯•ç»“æœï¼Œè¿™äº›éŸ³ä¹å¯èƒ½æœ‰åŠ©äºç¼“è§£æ‚¨çš„æƒ…ç»ªï¼š</p>
        <div id="musicRecommendations">
          <div v-for="(music, idx) in musicList" :key="idx" class="music-card">
            <div class="music-cover" :style="{ backgroundImage: 'url(' + music.cover + ')' }"></div>
            <div class="music-info">
              <div class="music-title">{{ music.title }}</div>
              <div class="music-reason">{{ music.reason }}</div>
            </div>
          </div>
        </div>
      </div>
      <button class="btn restart-btn" id="restartBtn" @click="restart">é‡æ–°æµ‹è¯•</button>
    </div>
  </div>
</template>

<style>
:root {
  --primary-color: #a8d8ea;
  --secondary-color: #56dad7;
  --accent-color: #50ade7;
  --text-color: #555;
  --light-color: #fef6e4;
}
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Helvetica Neue', Arial, sans-serif;
}
body {
  background-color: var(--light-color);
  color: var(--text-color);
  line-height: 1.6;
  padding: 20px;
  background-image: url('https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
  background-size: cover;
  background-attachment: fixed;
  background-position: center;
  background-blend-mode: overlay;
  background-color: rgba(255, 255, 255, 0.85);
}
.container {
  max-width: 800px;
  margin: 0 auto;
  background-color: rgba(255, 255, 255, 0.9);
  border-radius: 15px;
  padding: 30px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(5px);
}
header {
  text-align: center;
  margin-bottom: 30px;
}
h1 {
  color: var(--accent-color);
  font-size: 2.5rem;
  margin-bottom: 10px;
  font-weight: 300;
}
.subtitle {
  color: var(--text-color);
  font-size: 1.1rem;
  font-weight: 300;
}
.test-container, .result-container {
  display: none;
  animation: fadeIn 0.5s ease;
}
.active {
  display: block;
}
.question {
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 20px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  border-left: 5px solid var(--primary-color);
}
.question h3 {
  color: var(--accent-color);
  margin-bottom: 15px;
  font-weight: 400;
}
.options {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.option {
  display: flex;
  align-items: center;
  padding: 10px;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s ease;
}
.option:hover {
  background-color: var(--primary-color);
  transform: translateX(5px);
}
.option input {
  margin-right: 10px;
}
.btn {
  background-color: var(--accent-color);
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 30px;
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.3s ease;
  display: block;
  margin: 30px auto 0;
  box-shadow: 0 5px 15px rgba(170, 150, 218, 0.3);
}
.btn:hover {
  background-color: #f7f7f7;
  color: var(--accent-color);
  transform: translateY(-2px);
  box-shadow: 0 7px 20px rgba(170, 150, 218, 0.4);
}
.btn:disabled {
  background-color: #ccc;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}
.progress-container {
  width: 100%;
  background-color: #f0f0f0;
  border-radius: 10px;
  margin-bottom: 30px;
  height: 10px;
}
.progress-bar {
  height: 100%;
  border-radius: 10px;
  background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
  width: 0%;
  transition: width 0.5s ease;
}
.result-section {
  margin-bottom: 30px;
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}
.result-section h2 {
  color: var(--accent-color);
  margin-bottom: 15px;
  font-weight: 400;
  border-bottom: 1px solid #eee;
  padding-bottom: 10px;
}
.score-meter {
  height: 20px;
  background-color: #f0f0f0;
  border-radius: 10px;
  margin: 15px 0;
  overflow: hidden;
}
.score-fill {
  height: 100%;
  border-radius: 10px;
  background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
}
.music-card {
  display: flex;
  background-color: white;
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 15px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}
.music-cover {
  width: 80px;
  height: 80px;
  background-size: cover;
  background-position: center;
}
.music-info {
  padding: 15px;
  flex: 1;
}
.music-title {
  font-weight: bold;
  margin-bottom: 5px;
  color: var(--accent-color);
}
.music-reason {
  font-size: 0.9rem;
  color: #777;
}
.restart-btn {
  background-color: white;
  color: var(--accent-color);
  border: 1px solid var(--accent-color);
}
.restart-btn:hover {
  background-color: var(--accent-color);
  color: white;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.flower-decoration {
  text-align: center;
  margin: 20px 0;
  font-size: 1.5rem;
  color: var(--accent-color);
}
@media (max-width: 600px) {
  .container {
    padding: 20px;
  }
  h1 {
    font-size: 2rem;
  }
  .music-card {
    flex-direction: column;
  }
  .music-cover {
    width: 100%;
    height: 120px;
  }
}
</style>